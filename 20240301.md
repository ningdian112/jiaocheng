# Autoware.universe in Ubuntu 22.04

## Autoware.universe in humble 
## install with official 
```bash 
sudo apt-get -y update
sudo apt-get -y install git

git clone https://github.com/autowarefoundation/autoware.git

cd autoware
./setup-dev-env.sh
```
Then the ROS2 shows install wrong, so we use the 
```bash
wget http://fishros.com/install -O fishros && . fishros
```
then change to the 
```bash 
./setup-dev-env.sh
```
Check the cuda has been installed 12.3 but there hasnt cudnn and tensorrt.
```bash
nvcc -V
cat /usr/local/cuda-12.3/include/cudnn_version.h | grep CUDNN_MAJOR -A 2
```

Download the cudnn-linux-x86_64-8.9.7.29_cuda12-archive.tar.xz and TensorRT-8.6.1.6.tar.xz

### cudnn
```bash
tar -xvf cudnn-linux-x86_64-8.9.7.29_cuda12-archive.tar.xz
```
copy the cudnn to cuda location
```bash
sudo cp cudnn-linux-x86_64-8.9.7.29_cuda12-archive/include/cudnn*.h /usr/local/cuda/include 
sudo cp -P cudnn-linux-x86_64-8.9.7.29_cuda12-archive/lib/libcudnn* /usr/local/cuda/lib64
sudo chmod a+r /usr/local/cuda/include/cudnn*.h /usr/local/cuda/lib64/libcudnn*
```
check the connect well with cudnn or not
```bash
cat /usr/local/cuda/include/cudnn_version.h | grep CUDNN_MAJOR -A 2
```
### tensorrt
```bash
tar -xvf TensorRT-8.6.1.6.tar.xz
```
put the unzip file to /home and change the environment use sudo gedit ~/.bashrc 
```bash
export LD_LIBRARY_PATH=$LD_LIBRARY_PATHï¼š/home/8.6.1.6/lib
```
Test the example 
```bash
cd TensorRT-8.6.1.6/samples/sampleOnnxMNIST
make -j16
cd ../../bin/
./sample_onnx_mnist
```
result shows:
[the picture of result](20240301/images/image_2024_03_06T11_43_07_444Z.png)





